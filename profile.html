<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blood Bank</title>
    <link rel="stylesheet" href="./style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>

    <!-- Navbar -->
    <div id="navbar"></div>

    <section>
        <div class="container custom-profile-container px-5">
            <!-- Profile Section -->
            <div class="row profile-header mb-4">
               
        
                <!-- Information Section -->
                <div class="col-md-12 col-lg-6 col-sm-12 ps-5 fw-bold">
                    <p class="profile-name custom-profile-name"> <small>User Name : </small><small id="userName"></small></p>
                    <p class="profile-name custom-profile-name"> <small>Full Name : </small><small id="profileName"></small></p>
                    <p class="profile-name custom-profile-name"> <small>First Name : </small><small id="firstName"></small></p>
                    <p class="profile-name custom-profile-name"> <small>Last Name : </small><small id="lastName"></small></p>
                    <p class="profile-name custom-profile-name"><small>Email : </small><small id="Email"></small></p>
                    <p class="profile-name custom-profile-name"><small>Age: </small><small id="profileAge"></small></p>
                    <p class="profile-name custom-profile-name"><small>Mobile No: </small><small id="profileMobile"></small></p>
                    <p class="profile-name custom-profile-name"><small>Address:  </small><small id="profileAddress"></small></p>
                    <p class="profile-name custom-profile-name"><small>Blood Group: </small><small id="profileBloodGroup"></small></p>
                    <p class="profile-name custom-profile-name"><small>Available for Donation:  </small><small id="availabilityStatus"></small></p>
                    <p class="profile-name custom-profile-name"><small>Health Screening Passed:  </small><small id="healthStatus"></small></p>
                </div>
                 <!-- Image Section -->
                 <div class="col-md-12 col-lg-5 col-sm-12 text-center mb-3 mb-md-0">
                    <img src="" alt="Profile Picture" class="profile-image  shadow-sm" id="profileImage">
                </div>

                
            </div>
           

            <div class="centered-button-wrapper margin-top-medium">
                <h6 class="button-text-uppercase profile-password-btn">
                    <button type="button" class="text-decoration-none border-0 padding-x-large padding-y-medium rounded-button btn-outline-alert text-highlight fw-bold text-white bg-danger" data-bs-toggle="modal" data-bs-target="#updateProfileModal">
                        Update Profile
                    </button>
                    <button type="button" class=" text-decoration-none border-0 padding-x-large padding-y-medium rounded-button btn-outline-alert text-highlight fw-bold text-white bg-danger" data-bs-toggle="modal" data-bs-target="#changePasswordModal">
                        Update Password
                    </button>
                </h6>
                
            </div>
            

        
            <!-- Donation History Section -->
            <div class="donation-history mt-4">
                <div id="congratsMessage" class="alert text-center alert-success fs-4" style="display: none;"></div>
                <p id="totalDonations" class="text-muted text-center fs-5 navbar-brand"></p>
                <ul class="donation-list list-unstyled" id="donationList">
                    <!-- Donation items will be injected here -->
                </ul>
            </div>
        </div>
        
    </section>

    
<!-- Update Profile Modal -->
<div class="modal fade" id="updateProfileModal" tabindex="-1" aria-labelledby="updateProfileModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="updateProfileModalLabel">Update Profile</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="updateProfileForm" enctype="multipart/form-data" onsubmit="UpdateprofileForms(event)">
                    <div class="mb-3">
                        <label for="first_name" class="form-label">First Name</label>
                        <input type="text" class="form-control" id="first_name" name="first_name" >
                    </div>
                    <div class="mb-3">
                        <label for="last_name" class="form-label">Last Name</label>
                        <input type="text" class="form-control" id="last_name" name="last_name" >
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="email" name="email">
                    </div>
                    <div class="mb-3">
                        <label for="age" class="form-label">Age</label>
                        <input type="number" class="form-control" id="age" name="age" >
                    </div>
                    <div class="mb-3">
                        <label for="mobaile_no" class="form-label">Mobile No</label>
                        <input type="text" class="form-control" id="mobaile_no" name="mobaile_no" >
                    </div>
                    <div class="mb-3">
                        <label for="address" class="form-label">Address</label>
                        <textarea class="form-control" id="address" name="address" ></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="blood_group" class="form-label">Choose Blood Group*</label>
                        <select class="form-select" id="blood_group" name="blood_group">
                            <option value="">Blood group</option>
                            <option value="O+">O+</option>
                            <option value="O-">O-</option>
                            <option value="A+">A+</option>
                            <option value="A-">A-</option>
                            <option value="B+">B+</option>
                            <option value="B-">B-</option>
                            <option value="AB+">AB+</option>
                            <option value="AB-">AB-</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="image" class="form-label">Upload Image</label>
                        <input type="file" class="form-control" id="image" accept="image/*" name="image">
                    </div>
                    <button type="submit" class="btn btn-danger">Update</button>
                </form>
            </div>
        </div>
    </div>
</div>



<!-- Change password modal-->
<div class="modal fade" id="changePasswordModal" tabindex="-1" aria-labelledby="changePasswordModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="changePasswordModalLabel">Change Password</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="changePasswordForm">
            <div class="mb-3">
              <label for="oldPassword" class="form-label">Old Password</label>
              <input type="password" class="form-control" id="oldPassword" required>
            </div>
            <div class="mb-3">
              <label for="newPassword" class="form-label">New Password</label>
              <input type="password" class="form-control" id="newPassword" required>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" onclick="changePassword()">Change Password</button>
        </div>
      </div>
    </div>
</div>









    <section id="history-section" style="background-color:rgba(128, 0, 0, 0.688)">

        <div class="container">
          <div id="congratsMessage" class="alert text-center alert-success fs-4" style="display: none;"></div>
          <h2 class="donation-title custom-donation-title text-center navbar-brand fs-3 pt-5 text-white">Your Donation History</h2>

          <p id="totalDonations" class="text-muted text-center fs-5 navbar-brand"></p>
          <div class="row mt-5" id="donation-history-container">
            
          </div> <!-- Container for the donation history cards -->
      </div>
    </section>

    <div id="feedback-section align-items-center text-center" style="background-color: salmon;">
        <h2 class="text-center pt-4 navbar-brand fs-3 text-white">Your Feedback</h2>
        <div id="feedback-container" class=" py-3 "></div> <!-- Feedback will be appended here -->

       
        
    </div>
    
        
            
    <div class="modal fade" id="updateFeedbackModal" tabindex="-1" aria-labelledby="updateFeedbackModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="updateFeedbackModalLabel">Update Feedback</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <input type="hidden" id="feedbackId" />
                    <div class="mb-3">
                        <label for="feedbackDonor" class="form-label">User</label>
                        <input type="text" class="form-control" id="feedbackDonor" disabled />
                    </div>
                    <div class="mb-3">
                        <label for="feedbackRating" class="form-label">Rate Us*</label>
                        <select class="form-select" id="feedbackRating" name="rating" required>
                            <option value="">Select a rating</option>
                            <option value="⭐">⭐</option>
                            <option value="⭐⭐">⭐⭐</option>
                            <option value="⭐⭐⭐">⭐⭐⭐</option>
                            <option value="⭐⭐⭐⭐">⭐⭐⭐⭐</option>
                            <option value="⭐⭐⭐⭐⭐">⭐⭐⭐⭐⭐</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="feedbackText" class="form-label">Feedback</label>
                        <textarea class="form-control" id="feedbackText" rows="3" required></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" id="submitFeedbackBtn" class="btn btn-primary">Submit</button>
                </div>
            </div>
        </div>
    </div>
    
    
    <!-- Footer -->


    <div id="footer"></div>
     
    <!-- Font Awesome CDN for Icons -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script src="./navbar.js"></script>
    <script src="./profile.js"></script>
    <script src="./footer.js"></script>
    <script src="./contact.js"></script>
    <script src="./auth.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>